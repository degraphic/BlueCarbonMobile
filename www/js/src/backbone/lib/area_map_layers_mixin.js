// Generated by CoffeeScript 1.4.0
(function() {
  var _base;

  window.BlueCarbon || (window.BlueCarbon = {});

  (_base = window.BlueCarbon).Mixins || (_base.Mixins = {});

  BlueCarbon.Mixins.AreaMapLayers = {
    addMapLayers: function(area, map) {
      var db, layer, tileLayer, _i, _len, _ref, _results;
      this.removeTileLayers();
      this.tileLayers || (this.tileLayers = []);
      _ref = area.tileLayers();
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        layer = _ref[_i];
        console.log("adding tile layer for " + layer.mbtileLocation);
        db = window.sqlitePlugin.openDatabase(layer.mbtileLocation, "1.0", "Tiles", 2000000);
        tileLayer = new L.TileLayer.MBTiles(db, {
          tms: true
        }).addTo(map);
        _results.push(this.tileLayers.push(tileLayer));
      }
      return _results;
    },
    removeTileLayers: function(map) {
      var layer, _i, _len, _ref, _results;
      if (this.tileLayers == null) {
        return;
      }
      _ref = this.tileLayers;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        layer = _ref[_i];
        _results.push(map.removeLayer(layer));
      }
      return _results;
    }
  };

}).call(this);
